<% if @answer.errors.present? %>
    <% @answer.errors.full_messages.each do |message| %>
        $('.answer-errors').html('<%= j message %>');
    <% end %>
<% else %>
    $("#notice").html("<%=j flash[:notice] %>");
    $('.answers').html('<%= j render 'questions/answers' %>');
    $('.edit-answer-link').on('click', function(e) {
        e.preventDefault();
        $(this).hide();
        answer_id = $(this).data('answerId');
        $('form#edit-answer-' + answer_id).show();
    });
    $('#new_answer #answer_body').val('');
    $('.best-answer-link').on('click', function(ba) {
      ba.preventDefault();
      $(this).hide();
      answer_id = $(this).data('answerId');
      question_id = $(this).data('questionId');
      $.ajax({
              method: "PATCH",
              url: '/questions/' + question_id + '/set_best_answer_ever/' + answer_id,
              data: {
                'best_answer_id': answer_id,
                'id': question_id,
                }
          });
        });
<% end %>
